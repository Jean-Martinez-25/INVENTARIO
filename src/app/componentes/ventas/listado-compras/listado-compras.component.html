<div class="table">
    <div class="content">
        <div class="div-title">
            <h2 class="titulo-pages">
                ðŸ“„ Listado de Facturas Compras
            </h2>
        </div>
        <p-card>
            <p-table [value]="facturas" [paginator]="true" [rows]="10" [responsiveLayout]="'scroll'"
                class="p-datatable-striped p-datatable-gridlines p-datatable-sm" styleClass="custom-table"
                [globalFilterFields]="['numFactura', 'cliente']" #dt>

                <ng-template pTemplate="caption">
                    <div class="flex justify-end">
                        <span class="p-input-icon-left">
                            <i class="pi pi-search"></i>
                            <mat-form-field appearance="fill">
                                <mat-label>Buscar...</mat-label>
                                <input matInput (input)="onGlobalFilter($event)" placeholder="Buscar..." />
                            </mat-form-field>
                        </span>
                    </div>
                </ng-template>

                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="id" style="background-color: #0b1a2c; color: white;">
                            <i class="pi pi-hashtag"></i> ID
                            <p-sortIcon field="id"></p-sortIcon>
                        </th>
                        <th pSortableColumn="numFactura" style="background-color: #0b1a2c; color: white;">
                            <i class="pi pi-file"></i> NÂ° Factura
                            <p-sortIcon field="numFactura"></p-sortIcon>
                        </th>
                        <th pSortableColumn="valor" style="background-color: #0b1a2c; color: white;">
                            <i class="pi pi-dollar"></i> Valor
                            <p-sortIcon field="valor"></p-sortIcon>
                        </th>
                        <th pSortableColumn="fecha" style="background-color: #0b1a2c; color: white;">
                            <i class="pi pi-calendar"></i> Fecha
                            <p-sortIcon field="fecha"></p-sortIcon>
                        </th>
                        <th pSortableColumn="cliente" style="background-color: #0b1a2c; color: white;">
                            <i class="pi pi-user"></i> Proveedor
                            <p-sortIcon field="cliente"></p-sortIcon>
                        </th>
                        <th style="background-color: #0b1a2c; color: white;">Acciones</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-factura>
                    <tr>
                        <td>{{ factura.id }}</td>
                        <td>{{ factura.numFactura }}</td>
                        <td>
                            <span [ngClass]="{
                    'text-green-700': factura.valor <= 100000,
                    'text-red-600 font-bold': factura.valor > 100000
                }">
                                {{ factura.valor | currency:'COP':'symbol':'1.0-0' }}
                            </span>
                        </td>
                        <td>{{ factura.fecha | date:'fullDate' }}</td>
                        <td>{{ factura.persona }}</td>
                        <td>
                            <button pButton type="button" icon="pi pi-eye"
                                class="p-button-rounded p-button-sm p-button-text custom-eye-button"
                                (click)="verFactura(factura.numFactura)">
                            </button>
                        </td>

                    </tr>
                </ng-template>
            </p-table>

        </p-card>
    </div>
</div>